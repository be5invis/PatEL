define shell : require 'shelljs'

define-macro declare-command : syntax-rules {
	@`[declare-command @_name] [atom _name] : begin {
		local name [formOf _name]
		local defineStatement @`[define-macro @name [syntax-rules {
			@`[@@[literal name] @::args]  @`[shell.exec [@[literal @[literal name]] + ' ' + [(@::args).join ' ']]]
		}]]
		[env.macros.get 'define-macro'] defineStatement arguments`1
		return @`nothing
	}
}

declare-command ping
ping '127.0.0.1' '-t'